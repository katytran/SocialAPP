{"ast":null,"code":"import * as types from \"../constants/blog.constants\";\nimport api from \"../../apiService\";\n\nconst getBlogs = (pageNum, limit, field_name) => async dispatch => {\n  dispatch({\n    type: types.GET_BLOGS_REQUEST\n  });\n\n  try {\n    let query = \"\";\n\n    if (field_name) {\n      query = `&title[$regex]=${field_name}&title[$options]=i`;\n    }\n\n    const url = `/blogs?page=${pageNum}&limit=${limit}${query}&sortBy[createdAt]=1`;\n    const res = await api.get(url);\n    console.log(\" success\", res.data.success);\n\n    if (res.data.success === true) {\n      console.log(\"data\", res.data.data.totalPages);\n      dispatch({\n        type: types.GET_BLOGS_SUCCESS,\n        payload: res.data.data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: types.GET_BLOGS_FAILURE,\n      payload: error\n    });\n  }\n};\n\nconst getSingleBlog = id => async dispatch => {\n  dispatch({\n    type: types.GET_SINGLE_BLOGS_REQUEST\n  });\n\n  try {\n    const res = await api.get(`/blogs/${id}`);\n    console.log(\"single data\", res);\n    dispatch({\n      type: types.GET_SINGLE_BLOGS_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_SINGLE_BLOGS_FAILURE\n    });\n  }\n};\n\nconst blogActions = {\n  getBlogs,\n  getSingleBlog\n};\nexport default blogActions;","map":{"version":3,"sources":["/Users/catanh/Desktop/coderschool/social-blog-group-3/src/redux/actions/blog.actions.js"],"names":["types","api","getBlogs","pageNum","limit","field_name","dispatch","type","GET_BLOGS_REQUEST","query","url","res","get","console","log","data","success","totalPages","GET_BLOGS_SUCCESS","payload","error","GET_BLOGS_FAILURE","getSingleBlog","id","GET_SINGLE_BLOGS_REQUEST","GET_SINGLE_BLOGS_SUCCESS","GET_SINGLE_BLOGS_FAILURE","blogActions"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,6BAAvB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;;AAEA,MAAMC,QAAQ,GAAG,CAACC,OAAD,EAAUC,KAAV,EAAiBC,UAAjB,KAAgC,MAAOC,QAAP,IAAoB;AACnEA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEP,KAAK,CAACQ;AAAd,GAAD,CAAR;;AACA,MAAI;AACF,QAAIC,KAAK,GAAG,EAAZ;;AACA,QAAIJ,UAAJ,EAAgB;AACdI,MAAAA,KAAK,GAAI,kBAAiBJ,UAAW,oBAArC;AACD;;AACD,UAAMK,GAAG,GAAI,eAAcP,OAAQ,UAASC,KAAM,GAAEK,KAAM,sBAA1D;AACA,UAAME,GAAG,GAAG,MAAMV,GAAG,CAACW,GAAJ,CAAQF,GAAR,CAAlB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,GAAG,CAACI,IAAJ,CAASC,OAAjC;;AACA,QAAIL,GAAG,CAACI,IAAJ,CAASC,OAAT,KAAqB,IAAzB,EAA+B;AAC7BH,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,GAAG,CAACI,IAAJ,CAASA,IAAT,CAAcE,UAAlC;AACAX,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEP,KAAK,CAACkB,iBAAd;AAAiCC,QAAAA,OAAO,EAAER,GAAG,CAACI,IAAJ,CAASA;AAAnD,OAAD,CAAR;AACD;AACF,GAZD,CAYE,OAAOK,KAAP,EAAc;AACdd,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,KAAK,CAACqB,iBAAd;AAAiCF,MAAAA,OAAO,EAAEC;AAA1C,KAAD,CAAR;AACD;AACF,CAjBD;;AAmBA,MAAME,aAAa,GAAIC,EAAD,IAAQ,MAAOjB,QAAP,IAAoB;AAChDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEP,KAAK,CAACwB;AAAd,GAAD,CAAR;;AACA,MAAI;AACF,UAAMb,GAAG,GAAG,MAAMV,GAAG,CAACW,GAAJ,CAAS,UAASW,EAAG,EAArB,CAAlB;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BH,GAA3B;AACAL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,KAAK,CAACyB;AAAd,KAAD,CAAR;AACD,GAJD,CAIE,OAAOL,KAAP,EAAc;AACdd,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,KAAK,CAAC0B;AAAd,KAAD,CAAR;AACD;AACF,CATD;;AAUA,MAAMC,WAAW,GAAG;AAClBzB,EAAAA,QADkB;AAElBoB,EAAAA;AAFkB,CAApB;AAKA,eAAeK,WAAf","sourcesContent":["import * as types from \"../constants/blog.constants\";\nimport api from \"../../apiService\";\n\nconst getBlogs = (pageNum, limit, field_name) => async (dispatch) => {\n  dispatch({ type: types.GET_BLOGS_REQUEST });\n  try {\n    let query = \"\";\n    if (field_name) {\n      query = `&title[$regex]=${field_name}&title[$options]=i`;\n    }\n    const url = `/blogs?page=${pageNum}&limit=${limit}${query}&sortBy[createdAt]=1`;\n    const res = await api.get(url);\n    console.log(\" success\", res.data.success);\n    if (res.data.success === true) {\n      console.log(\"data\", res.data.data.totalPages);\n      dispatch({ type: types.GET_BLOGS_SUCCESS, payload: res.data.data });\n    }\n  } catch (error) {\n    dispatch({ type: types.GET_BLOGS_FAILURE, payload: error });\n  }\n};\n\nconst getSingleBlog = (id) => async (dispatch) => {\n  dispatch({ type: types.GET_SINGLE_BLOGS_REQUEST });\n  try {\n    const res = await api.get(`/blogs/${id}`);\n    console.log(\"single data\", res);\n    dispatch({ type: types.GET_SINGLE_BLOGS_SUCCESS });\n  } catch (error) {\n    dispatch({ type: types.GET_SINGLE_BLOGS_FAILURE });\n  }\n};\nconst blogActions = {\n  getBlogs,\n  getSingleBlog,\n};\n\nexport default blogActions;\n"]},"metadata":{},"sourceType":"module"}